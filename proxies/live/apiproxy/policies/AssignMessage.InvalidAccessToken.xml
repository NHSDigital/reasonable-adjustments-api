<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AssignMessage async="false" continueOnError="false" enabled="true" name="AssignMessage.InvalidAccessToken">
    <DisplayName>AssignMessage.InvalidAccessToken</DisplayName>
    <Set>
        <Payload contentType="application/json">
            {
                "resourceType": "OperationOutcome",
                "issue": [
                    {
                        "severity": "error",
                        "code": "forbidden",
                        "details": {
                            "coding": [
                                {
                                    "system": "https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode",
                                    "version": "2.0.0",
                                    "code": "ACCESS_DENIED",
                                    "display": "Access Denied - Unauthorised"
                                }
                            ]
                        },
                        "diagnostics": "Access token is invalid or expired"
                    }
                ]
            }   
            </Payload>
        <StatusCode>401</StatusCode>
        <ReasonPhrase>Unauthorized</ReasonPhrase>
    </Set>
    <IgnoreUnresolvedVariables>true</IgnoreUnresolvedVariables>
    <AssignTo createNew="false" transport="http" type="request"/>
</AssignMessage>